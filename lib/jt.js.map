{"version":3,"sources":["../src/jt.js"],"names":["cwdPath","process","cwd","curPath","__dirname","version","command","action","name","isString","option","outPath","out","join","parse","argv"],"mappings":";;AAAA;;;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AAIA;;;;AACA;;;;;;AAEA;AAfmC;AAgBnC,IAAIA,UAAUC,QAAQC,GAAR,EAAd;AACA;AACA,IAAIC,UAAUC,SAAd;;AAEA,oBAAUC,OAAV,CAAkB,OAAlB;;AAEA,oBAAUC,OAAV,CAAkB,qBAAlB,EAAyCC,MAAzC,CAAgD,UAAUA,MAAV,EAAkBC,IAAlB,EAAwB;AACtE,MAAI,CAAC,iBAAEC,QAAF,CAAWF,MAAX,CAAD,IAAuB,CAAC,iBAAEE,QAAF,CAAWD,IAAX,CAA5B,EAA8C;AAC5C,WAAO,wCAAP;AACD;;AAED,UAAQD,MAAR;AACE,SAAK,MAAL;AACE,8DAAcC,IAAd;;AAEA,8BAAWA,IAAX;AACA;AACF,SAAK,SAAL;AACE,8DAAcA,IAAd;;AAEA,+BAAcA,IAAd;AACA;AACF,SAAK,KAAL;AACE,8DAAcA,IAAd;;AAEA,4BAAUA,IAAV;AACA;AACF;AACE;AAjBJ;AAmBD,CAxBD;;AA0BA,oBAAUF,OAAV,CAAkB,aAAlB,EAAiCC,MAAjC,CAAwC,YAAY;AAClD;AACA;AACD,CAHD;;AAKA,oBAAUG,MAAV,CAAiB,oBAAjB,EAAuC,MAAvC;AACA,oBAAUJ,OAAV,CAAkB,qBAAlB,EAAyCC,MAAzC,CAAgD,UAAUA,MAAV,EAAkBC,IAAlB,EAAwB;AACtE,MAAIR,UAAUC,QAAQC,GAAR,EAAd;AACA,MAAIC,UAAUC,SAAd;;AAEA,UAAQG,MAAR;AACE,SAAK,OAAL;AACE,UAAII,UAAU,oBAAUC,GAAV,GAAgB,oBAAUA,GAA1B,GAAgC,aAA9C;;AAEA,0BAAK,eAAKC,IAAL,CAAUV,OAAV,6BAA4CK,IAA5C,WAAL,EAA+D,eAAKK,IAAL,CAAUb,OAAV,EAAmBW,OAAnB,CAA/D;AACA;;AAEF;AACE;AARJ;AAUD,CAdD;;AAgBA,oBAAUG,KAAV,CAAgBb,QAAQc,IAAxB","file":"jt.js","sourcesContent":["import commander from 'commander'; // 解析命令\nimport {log, warn} from './log';\nimport {createPage} from './jt-page';\nimport {createCom} from './jt-com';\nimport createProject from './jt-project';\nimport _ from 'lodash';\nimport Git from 'nodegit';\nimport path from 'path';\nimport {\n  isFileExit,\n  camelName\n} from './util';\nimport updateJtBase from './update-jt-base';\nimport copy from './copy';\n\n// 执行命令的路径\nlet cwdPath = process.cwd();\n// 当前 jt-cli 的路径\nlet curPath = __dirname;\n\ncommander.version('1.0.4');\n\ncommander.command('new <action> <name>').action(function (action, name) {\n  if (!_.isString(action) || !_.isString(name)) {\n    return warn(`command must be string`)\n  };\n\n  switch (action) {\n    case 'page':\n      log(`正在创建页面 ${name} ...`);\n\n      createPage(name);\n      break;\n    case 'project': \n      log(`正在创建项目 ${name} ...`);\n\n      createProject(name);\n      break;\n    case 'com':\n      log(`正在创建组件 ${name} ...`);\n\n      createCom(name);\n      break;\n    default:\n      break;\n  }\n});\n\ncommander.command('update base').action(function () {\n  // 从 git 中获取数据\n  updateJtBase();\n});\n\ncommander.option('-o, --out <target>', '输出地址');\ncommander.command('use <action> <name>').action(function (action, name) {\n  let cwdPath = process.cwd();\n  let curPath = __dirname;\n\n  switch (action) {\n    case 'style':\n      let outPath = commander.out ? commander.out : 'src/styles/';\n      \n      copy(path.join(curPath, `../jt-base/src/styles/${name}.scss`), path.join(cwdPath, outPath));\n      break;\n  \n    default:\n      break;\n  }\n});\n\ncommander.parse(process.argv);\n\n"]}